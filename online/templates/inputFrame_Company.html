<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>单位信息详情</title>
  <style type="text/css">
    .selected {
      color: maroon;
    }
    strong {
      color: red;
    }
    .style_float{
      text-align: right;
    }
    .style_percent{
      text-align: right;
    }
    .style_input{
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="id_container" class="container-fluid">

    <!-- 基本资料 -->
    <div name="Section_基本资料">
      <div class="row clearfix">
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <h5 style="text-align: center;">基本资料</h5>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <button id="id_button_基本资料" class="btn btn-default btn-edit" type="button">修改</button>
        </div>
      </div>
      <div class="row clearfix" style="margin-bottom: 6px;">
        <!-- 单位识别码 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            单位识别码
          </label>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <input type="text" name="单位识别码" id="id_单位识别码" class="style_input" style="width: 100%;font-size: 12px;" />
        </div>
        <!-- 单位名称 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            单位名称
          </label>
        </div>
        <div class="col-sm-4" style="padding: 0px; margin: 0px;">
          <input type="text" name="单位名称" id="id_单位名称" class="style_input" style="width: 100%;font-size: 12px;" />
        </div>
      </div>
      <div class="row clearfix" style="margin-bottom: 6px;">
        <!-- 法定代表人 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            法定代表人
          </label>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <input type="text" name="法定代表人" id="id_法定代表人" class="style_input" style="width: 100%;font-size: 12px;" />
        </div>
        <!-- 单位类别 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            单位类别
          </label>
        </div>
        <div class="col-sm-2" style="padding: 0px; margin: 0px;">
          <input type="text" name="单位类别" id="id_单位类别" class="style_input" style="width: 100%;font-size: 12px;" />
        </div>
        <!-- 单位性质 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            单位性质
          </label>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <input type="text" name="单位性质" id="id_单位性质" class="style_input" style="width: 100%;font-size: 12px;" />
        </div>
      </div>
      <hr />
    </div>

    <!-- 企业实力 -->
    <div name="Section_企业实力">
      <div class="row clearfix">
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <h5 style="text-align: center;">企业实力</h5>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <button id="id_button_企业实力" class="btn btn-default btn-edit" type="button">修改</button>
        </div>
      </div>
      <div class="row clearfix" style="margin-bottom: 6px;">
        <!-- 注册资金 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            注册资金
          </label>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <input type="text" name="注册资金" id="id_注册资金" class="style_float" style="width: 100%;font-size: 12px;" />
        </div>
        <!-- 单位资质 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            单位资质
          </label>
        </div>
        <div class="col-sm-4" style="padding: 0px; margin: 0px;">
          <textarea type="text" name="单位资质" id="id_单位资质" class="style_text" style="resize: none; width: 100%; height: 50px; text-align: left; font-size: 12px;" />
          </textarea>
        </div>
      </div>
      <hr />
    </div>

    <!-- 财务资料 -->
    <div name="Section_财务资料">
      <!-- 第三版块 -->
      <div class="row clearfix">
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <h5 style="text-align: center;">财务资料</h5>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <button id="id_button_财务资料" class="btn btn-default btn-edit" type="button">修改</button>
        </div>
      </div>
      <div class="row clearfix" style="margin-bottom: 6px;">
        <!-- 银行账号 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            银行账号
          </label>
        </div>
        <div class="col-sm-6" style="padding: 0px; margin: 0px;">
          <textarea type="text" name="银行账号" id="id_银行账号" class="style_input" style="resize: none; width: 100%; height: 50px; text-align: left; font-size: 12px;" />
          </textarea>
        </div>
      </div>
      <hr />
    </div>

    <!-- 概算资料 -->
    <div name="Section_联系资料">
      <div class="row clearfix">
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <h5 style="text-align: center;">联系资料</h5>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <button id="id_button_联系资料" class="btn btn-default btn-edit" type="button">修改</button>
        </div>
      </div>
      <div class="row clearfix" style="margin-bottom: 6px;">
        <!-- 联系人 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            联系人
          </label>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <input type="text" name="联系人" id="id_联系人" class="style_input" style="width: 100%;font-size: 12px;" />
        </div>
        <!-- 联系方式 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            联系方式
          </label>
        </div>
        <div class="col-sm-4" style="padding: 0px; margin: 0px;">
          <input type="text" name="联系方式" id="id_联系方式" class="style_input" style="width: 100%;font-size: 12px;" />
        </div>
      </div>
      <hr />
    </div>

    <!-- 其他资料 -->
    <div name="Section_其他资料">
      <div class="row clearfix">
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <h5 style="text-align: center;">其他资料</h5>
        </div>
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <button id="id_button_其他资料" class="btn btn-default btn-edit" type="button">修改</button>
        </div>
      </div>
      <div class="row clearfix" style="margin-bottom: 6px;">
        <!-- 单位备注 -->
        <div class="col-sm-1" style="padding: 0px; margin: 0px;">
          <label class="pull-right" style="font-size: 12px; padding-top: 4px; padding-right: 10px;">
            单位备注
          </label>
        </div>
        <div class="col-sm-6" style="padding: 0px; margin: 0px;">
          <textarea type="text" name="单位备注" id="id_单位备注" class="style_text" style="resize: none; width: 100%; height: 100px; text-align: left; font-size: 12px;" />
          </textarea>
        </div>
      </div>
      <hr />
    </div>

    <!-- 按钮组 -->
    <div class="row clearfix" style="margin-top: 4px;">
      <div class="btn-toolbar" role="toolbar" style="float: left;">
        <button class="btn btn-default btn-01 btn-bottom" id="id_btn_Attach">查看附件</button>
        <button class="btn btn-default btn-01 btn-bottom" id="id_btn_Table" >生成表格</button>
        <button class="btn btn-default btn-01 btn-bottom" id="id_btn_Save"  >保存</button>
        <button class="btn btn-default btn-01 btn-bottom" id="id_btn_Cancel">取消</button>
      </div>
    </div>

  </div>

  <!-- Jquery组件引用 -->
  <script src="/statics/js/jquery.min.js"></script>
  <!-- bootstrap组件引用 -->
  <link rel="stylesheet" href="/statics/css/bootstrap.min.css">
  <script src="/statics/js/bootstrap.min.js"></script>
  <!-- bootstrap-table组件引用 -->
  <link rel="stylesheet" href="/statics/css/bootstrap-table.css">
  <script src="/statics/js/bootstrap-table.min.js"></script>
  <script src="/statics/js/bootstrap-table-zh-CN.js"></script>
  <!-- layer -->
  <script type="text/javascript" src="/statics/js/layer.js"></script>
  <!-- edwin常用函数集合 -->
  <script type="text/javascript" src="/statics/js/often_by_Edwin_201712182301.js"></script>

  <script type="text/javascript">
    $.ajaxSetup({
      data: {
        csrfmiddlewaretoken: '{{ csrf_token }}'
      },
    });

    var child_data = {};
    var dict_Chn_Eng = {
      '单位': 'Company',
      '立项': 'Init',
      '招标': 'Bidding',
      '合同': 'Contract',
      '变更': 'Alteration',
      '分包合同': 'SubContract',
      '预算': 'Budget',
      '付款': 'Payment',
    };
    var key_frame = parent.child_data['key_table'];
    var data_head = parent.child_data['data_head'];
    var data_type = parent.child_data['data_type'];
    var data_value = parent.child_data['data_value'];
    var data_head_type = twoListToOneDict(data_head, data_type);
    $(main);

    function main() {
      // 初次加载页面
      $(window).load(windowOnLoad);
    }

    function windowOnLoad() {
      // 数据呈现控件
      for (var key in data_head_type) {
        // 格式化数据
        var input_value = data_value[key];
        if ((!input_value && typeof(input_value) != "undefined" && input_value != 0)) {
          input_value = '';
        } else if (data_head_type[key] == '浮点型') {
          input_value = toThousands(input_value);
        } else if (data_head_type[key] == '百分比') {
          input_value = toPercents(input_value);
        }
        // 填充数值
        $('#id_' + key).val(input_value);
      }
      // 将修改按钮设为不可用
      $('.btn-edit,.btn-bottom').attr('disabled', 'disabled');
      // 将input和textarea设为不可用
      $('input,textarea').attr('readonly', 'readonly');
      // 为各按钮注册事件
      // 查看附件
      $('#id_btn_Attach').removeAttr('disabled');
      $(document).on('click', '#id_btn_Attach', function() {
        child_data['key_frame'] = key_frame;
        var UDID = $('input')[0].value;
        child_data['UDID'] = UDID;
        var key_url = dict_Chn_Eng[child_data['key_frame']];
        var content_url = "{% url 'attachFrame' 'ewhuvlk' %}"
        // 打开查看附件框架
        layer.open({
          type: 2,
          title: '查看' + key_frame + '附件详情',
          area: ['100%', '100%'],
          content: content_url.replace('ewhuvlk', key_url),
        });
      });
    }
  </script>

</body>
</html>